---
import Center from "../Center.astro";
import { Icon } from "../Icon/Icon";
import Logo from "./Logo.astro";

const currentPath = Astro.url.pathname;
const topLevelPath = currentPath.split("/")[1];

const navigation = [
  { label: "~", href: "/" },
  { label: "about", href: "/about" },
  { label: "blog", href: "/blog" },
  { label: "projects", href: "/projects" },
  { label: "art", href: "/art" },
  { label: "now", href: "/now" },
];
---

<header>
  <h1 class="name">Froppii</h1>
  <nav class="nav">
    {navigation.map((link, i) => (
      <span class="nav-item">
        <a
          href={link.href}
          class={`nav-link ${Astro.url.pathname === link.href ? 'active' : ''}`}
        >
          {link.label}
        </a>
        {i < navigation.length - 1 && <span class="divider">/</span>}
      </span>
    ))}
  </nav>
</header>

<style>
  header {
    padding: 1rem;
    text-align: center;
    font-family: monospace;
  }

  .name {
    margin: 0;
    font-size: 45px;
    font-weight: bold;
    margin: 20px;
  }

  .nav {
    display: inline-block; /* center like inline text */
  }

  .nav-item {
    display: inline;
  }

  .divider {
    margin: 0 0.25rem;
    color: lightgray;
  }

  .nav-link {
    position: relative;
    color: black;
    text-decoration: none; /* turn off default underline */
    font-size: 16px;
    transition: color 0.3s ease;
  }

  /* custom underline */
  .nav-link::after {
    content: '';
    position: absolute;
    left: 0;
    bottom: -2px;
    width: 100%;
    height: 2px;
    background-color: black;
    opacity: 0.7;
    transition: background-color 0.3s ease, opacity 0.3s ease;
  }

  .nav-link:hover {
    color: gray;
  }

  .nav-link:hover::after {
    background-color: gray;
    opacity: 1;
  }

  .nav-link.active {
    font-weight: bold;
  }
</style>
